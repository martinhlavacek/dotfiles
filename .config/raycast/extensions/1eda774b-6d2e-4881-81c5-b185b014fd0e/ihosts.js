"use strict";var ro=Object.create;var ye=Object.defineProperty;var oo=Object.getOwnPropertyDescriptor;var io=Object.getOwnPropertyNames;var so=Object.getPrototypeOf,ao=Object.prototype.hasOwnProperty;var m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pt=(e,t)=>{for(var n in t)ye(e,n,{get:t[n],enumerable:!0})},Ht=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of io(t))!ao.call(e,o)&&o!==n&&ye(e,o,{get:()=>t[o],enumerable:!(r=oo(t,o))||r.enumerable});return e};var k=(e,t,n)=>(n=e!=null?ro(so(e)):{},Ht(t||!e||!e.__esModule?ye(n,"default",{value:e,enumerable:!0}):n,e)),co=e=>Ht(ye({},"__esModule",{value:!0}),e);var Ot=m((ya,kt)=>{kt.exports=qt;qt.sync=lo;var Dt=require("fs");function uo(e,t){var n=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!n||(n=n.split(";"),n.indexOf("")!==-1))return!0;for(var r=0;r<n.length;r++){var o=n[r].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}function Nt(e,t,n){return!e.isSymbolicLink()&&!e.isFile()?!1:uo(t,n)}function qt(e,t,n){Dt.stat(e,function(r,o){n(r,r?!1:Nt(o,e,t))})}function lo(e,t){return Nt(Dt.statSync(e),e,t)}});var $t=m((ga,Lt)=>{Lt.exports=Gt;Gt.sync=fo;var Rt=require("fs");function Gt(e,t,n){Rt.stat(e,function(r,o){n(r,r?!1:Mt(o,t))})}function fo(e,t){return Mt(Rt.statSync(e),t)}function Mt(e,t){return e.isFile()&&mo(e,t)}function mo(e,t){var n=e.mode,r=e.uid,o=e.gid,i=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),c=parseInt("100",8),l=parseInt("010",8),h=parseInt("001",8),v=c|l,g=n&h||n&l&&o===s||n&c&&r===i||n&v&&i===0;return g}});var Ut=m((xa,Bt)=>{var Sa=require("fs"),ge;process.platform==="win32"||global.TESTING_WINDOWS?ge=Ot():ge=$t();Bt.exports=Ve;Ve.sync=po;function Ve(e,t,n){if(typeof t=="function"&&(n=t,t={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,o){Ve(e,t||{},function(i,s){i?o(i):r(s)})})}ge(e,t||{},function(r,o){r&&(r.code==="EACCES"||t&&t.ignoreErrors)&&(r=null,o=!1),n(r,o)})}function po(e,t){try{return ge.sync(e,t||{})}catch(n){if(t&&t.ignoreErrors||n.code==="EACCES")return!1;throw n}}});var Yt=m((va,zt)=>{var K=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Kt=require("path"),ho=K?";":":",jt=Ut(),Xt=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Wt=(e,t)=>{let n=t.colon||ho,r=e.match(/\//)||K&&e.match(/\\/)?[""]:[...K?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],o=K?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=K?o.split(n):[""];return K&&e.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:r,pathExt:i,pathExtExe:o}},Vt=(e,t,n)=>{typeof t=="function"&&(n=t,t={}),t||(t={});let{pathEnv:r,pathExt:o,pathExtExe:i}=Wt(e,t),s=[],c=h=>new Promise((v,g)=>{if(h===r.length)return t.all&&s.length?v(s):g(Xt(e));let y=r[h],S=/^".*"$/.test(y)?y.slice(1,-1):y,b=Kt.join(S,e),C=!S&&/^\.[\\\/]/.test(e)?e.slice(0,2)+b:b;v(l(C,h,0))}),l=(h,v,g)=>new Promise((y,S)=>{if(g===o.length)return y(c(v+1));let b=o[g];jt(h+b,{pathExt:i},(C,H)=>{if(!C&&H)if(t.all)s.push(h+b);else return y(h+b);return y(l(h,v,g+1))})});return n?c(0).then(h=>n(null,h),n):c(0)},yo=(e,t)=>{t=t||{};let{pathEnv:n,pathExt:r,pathExtExe:o}=Wt(e,t),i=[];for(let s=0;s<n.length;s++){let c=n[s],l=/^".*"$/.test(c)?c.slice(1,-1):c,h=Kt.join(l,e),v=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+h:h;for(let g=0;g<r.length;g++){let y=v+r[g];try{if(jt.sync(y,{pathExt:o}))if(t.all)i.push(y);else return y}catch{}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw Xt(e)};zt.exports=Vt;Vt.sync=yo});var Ye=m((wa,ze)=>{"use strict";var Jt=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};ze.exports=Jt;ze.exports.default=Jt});var tn=m((Ia,en)=>{"use strict";var Qt=require("path"),go=Yt(),So=Ye();function Zt(e,t){let n=e.options.env||process.env,r=process.cwd(),o=e.options.cwd!=null,i=o&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch{}let s;try{s=go.sync(e.command,{path:n[So({env:n})],pathExt:t?Qt.delimiter:void 0})}catch{}finally{i&&process.chdir(r)}return s&&(s=Qt.resolve(o?e.options.cwd:"",s)),s}function xo(e){return Zt(e)||Zt(e,!0)}en.exports=xo});var nn=m((ba,Qe)=>{"use strict";var Je=/([()\][%!^"`<>&|;, *?])/g;function vo(e){return e=e.replace(Je,"^$1"),e}function wo(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Je,"^$1"),t&&(e=e.replace(Je,"^$1")),e}Qe.exports.command=vo;Qe.exports.argument=wo});var on=m((Fa,rn)=>{"use strict";rn.exports=/^#!(.*)/});var an=m((Ea,sn)=>{"use strict";var Io=on();sn.exports=(e="")=>{let t=e.match(Io);if(!t)return null;let[n,r]=t[0].replace(/#! ?/,"").split(" "),o=n.split("/").pop();return o==="env"?r:r?`${o} ${r}`:o}});var un=m((Ca,cn)=>{"use strict";var Ze=require("fs"),bo=an();function Fo(e){let n=Buffer.alloc(150),r;try{r=Ze.openSync(e,"r"),Ze.readSync(r,n,0,150,0),Ze.closeSync(r)}catch{}return bo(n.toString())}cn.exports=Fo});var mn=m((_a,fn)=>{"use strict";var Eo=require("path"),ln=tn(),dn=nn(),Co=un(),_o=process.platform==="win32",Po=/\.(?:com|exe)$/i,Ho=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Ao(e){e.file=ln(e);let t=e.file&&Co(e.file);return t?(e.args.unshift(e.file),e.command=t,ln(e)):e.file}function To(e){if(!_o)return e;let t=Ao(e),n=!Po.test(t);if(e.options.forceShell||n){let r=Ho.test(t);e.command=Eo.normalize(e.command),e.command=dn.command(e.command),e.args=e.args.map(i=>dn.argument(i,r));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Do(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null),t=t?t.slice(0):[],n=Object.assign({},n);let r={command:e,args:t,options:n,file:void 0,original:{command:e,args:t}};return n.shell?r:To(r)}fn.exports=Do});var yn=m((Pa,hn)=>{"use strict";var et=process.platform==="win32";function tt(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function No(e,t){if(!et)return;let n=e.emit;e.emit=function(r,o){if(r==="exit"){let i=pn(o,t,"spawn");if(i)return n.call(e,"error",i)}return n.apply(e,arguments)}}function pn(e,t){return et&&e===1&&!t.file?tt(t.original,"spawn"):null}function qo(e,t){return et&&e===1&&!t.file?tt(t.original,"spawnSync"):null}hn.exports={hookChildProcess:No,verifyENOENT:pn,verifyENOENTSync:qo,notFoundError:tt}});var xn=m((Ha,j)=>{"use strict";var gn=require("child_process"),nt=mn(),rt=yn();function Sn(e,t,n){let r=nt(e,t,n),o=gn.spawn(r.command,r.args,r.options);return rt.hookChildProcess(o,r),o}function ko(e,t,n){let r=nt(e,t,n),o=gn.spawnSync(r.command,r.args,r.options);return o.error=o.error||rt.verifyENOENTSync(o.status,r),o}j.exports=Sn;j.exports.spawn=Sn;j.exports.sync=ko;j.exports._parse=nt;j.exports._enoent=rt});var wn=m((Aa,vn)=>{"use strict";vn.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),n=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}});var Fn=m((Ta,ae)=>{"use strict";var se=require("path"),In=Ye(),bn=e=>{e={cwd:process.cwd(),path:process.env[In()],execPath:process.execPath,...e};let t,n=se.resolve(e.cwd),r=[];for(;t!==n;)r.push(se.join(n,"node_modules/.bin")),t=n,n=se.resolve(n,"..");let o=se.resolve(e.cwd,e.execPath,"..");return r.push(o),r.concat(e.path).join(se.delimiter)};ae.exports=bn;ae.exports.default=bn;ae.exports.env=e=>{e={env:process.env,...e};let t={...e.env},n=In({env:t});return e.path=t[n],t[n]=ae.exports(e),t}});var Cn=m((Da,ot)=>{"use strict";var En=(e,t)=>{for(let n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};ot.exports=En;ot.exports.default=En});var Pn=m((Na,xe)=>{"use strict";var Oo=Cn(),Se=new WeakMap,_n=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let n,r=0,o=e.displayName||e.name||"<anonymous>",i=function(...s){if(Se.set(i,++r),r===1)n=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${o}\` can only be called once`);return n};return Oo(i,e),Se.set(i,r),i};xe.exports=_n;xe.exports.default=_n;xe.exports.callCount=e=>{if(!Se.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Se.get(e)}});var Hn=m(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.SIGNALS=void 0;var Ro=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];ve.SIGNALS=Ro});var it=m(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.SIGRTMAX=X.getRealtimeSignals=void 0;var Go=function(){let e=Tn-An+1;return Array.from({length:e},Mo)};X.getRealtimeSignals=Go;var Mo=function(e,t){return{name:`SIGRT${t+1}`,number:An+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},An=34,Tn=64;X.SIGRTMAX=Tn});var Dn=m(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.getSignals=void 0;var Lo=require("os"),$o=Hn(),Bo=it(),Uo=function(){let e=(0,Bo.getRealtimeSignals)();return[...$o.SIGNALS,...e].map(Ko)};we.getSignals=Uo;var Ko=function({name:e,number:t,description:n,action:r,forced:o=!1,standard:i}){let{signals:{[e]:s}}=Lo.constants,c=s!==void 0;return{name:e,number:c?s:t,description:n,supported:c,action:r,forced:o,standard:i}}});var qn=m(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.signalsByNumber=W.signalsByName=void 0;var jo=require("os"),Nn=Dn(),Xo=it(),Wo=function(){return(0,Nn.getSignals)().reduce(Vo,{})},Vo=function(e,{name:t,number:n,description:r,supported:o,action:i,forced:s,standard:c}){return{...e,[t]:{name:t,number:n,description:r,supported:o,action:i,forced:s,standard:c}}},zo=Wo();W.signalsByName=zo;var Yo=function(){let e=(0,Nn.getSignals)(),t=Xo.SIGRTMAX+1,n=Array.from({length:t},(r,o)=>Jo(o,e));return Object.assign({},...n)},Jo=function(e,t){let n=Qo(e,t);if(n===void 0)return{};let{name:r,description:o,supported:i,action:s,forced:c,standard:l}=n;return{[e]:{name:r,number:e,description:o,supported:i,action:s,forced:c,standard:l}}},Qo=function(e,t){let n=t.find(({name:r})=>jo.constants.signals[r]===e);return n!==void 0?n:t.find(r=>r.number===e)},Zo=Yo();W.signalsByNumber=Zo});var On=m((Ga,kn)=>{"use strict";var{signalsByName:ei}=qn(),ti=({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:o,exitCode:i,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":n!==void 0?`failed with ${n}`:r!==void 0?`was killed with ${r} (${o})`:i!==void 0?`failed with exit code ${i}`:"failed",ni=({stdout:e,stderr:t,all:n,error:r,signal:o,exitCode:i,command:s,escapedCommand:c,timedOut:l,isCanceled:h,killed:v,parsed:{options:{timeout:g}}})=>{i=i===null?void 0:i,o=o===null?void 0:o;let y=o===void 0?void 0:ei[o].description,S=r&&r.code,C=`Command ${ti({timedOut:l,timeout:g,errorCode:S,signal:o,signalDescription:y,exitCode:i,isCanceled:h})}: ${s}`,H=Object.prototype.toString.call(r)==="[object Error]",d=H?`${C}
${r.message}`:C,u=[d,t,e].filter(Boolean).join(`
`);return H?(r.originalMessage=r.message,r.message=u):r=new Error(u),r.shortMessage=d,r.command=s,r.escapedCommand=c,r.exitCode=i,r.signal=o,r.signalDescription=y,r.stdout=e,r.stderr=t,n!==void 0&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(l),r.isCanceled=h,r.killed=v&&!l,r};kn.exports=ni});var Gn=m((Ma,st)=>{"use strict";var Ie=["stdin","stdout","stderr"],ri=e=>Ie.some(t=>e[t]!==void 0),Rn=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return Ie.map(r=>e[r]);if(ri(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Ie.map(r=>`\`${r}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let n=Math.max(t.length,Ie.length);return Array.from({length:n},(r,o)=>t[o])};st.exports=Rn;st.exports.node=e=>{let t=Rn(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var Mn=m((La,be)=>{be.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&be.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&be.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Kn=m(($a,Y)=>{var I=global.process,M=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};M(I)?(Ln=require("assert"),V=Mn(),$n=/^win/i.test(I.platform),ce=require("events"),typeof ce!="function"&&(ce=ce.EventEmitter),I.__signal_exit_emitter__?F=I.__signal_exit_emitter__:(F=I.__signal_exit_emitter__=new ce,F.count=0,F.emitted={}),F.infinite||(F.setMaxListeners(1/0),F.infinite=!0),Y.exports=function(e,t){if(!M(global.process))return function(){};Ln.equal(typeof e,"function","a callback must be provided for exit handler"),z===!1&&at();var n="exit";t&&t.alwaysLast&&(n="afterexit");var r=function(){F.removeListener(n,e),F.listeners("exit").length===0&&F.listeners("afterexit").length===0&&Fe()};return F.on(n,e),r},Fe=function(){!z||!M(global.process)||(z=!1,V.forEach(function(t){try{I.removeListener(t,Ee[t])}catch{}}),I.emit=Ce,I.reallyExit=ct,F.count-=1)},Y.exports.unload=Fe,L=function(t,n,r){F.emitted[t]||(F.emitted[t]=!0,F.emit(t,n,r))},Ee={},V.forEach(function(e){Ee[e]=function(){if(!!M(global.process)){var n=I.listeners(e);n.length===F.count&&(Fe(),L("exit",null,e),L("afterexit",null,e),$n&&e==="SIGHUP"&&(e="SIGINT"),I.kill(I.pid,e))}}}),Y.exports.signals=function(){return V},z=!1,at=function(){z||!M(global.process)||(z=!0,F.count+=1,V=V.filter(function(t){try{return I.on(t,Ee[t]),!0}catch{return!1}}),I.emit=Un,I.reallyExit=Bn)},Y.exports.load=at,ct=I.reallyExit,Bn=function(t){!M(global.process)||(I.exitCode=t||0,L("exit",I.exitCode,null),L("afterexit",I.exitCode,null),ct.call(I,I.exitCode))},Ce=I.emit,Un=function(t,n){if(t==="exit"&&M(global.process)){n!==void 0&&(I.exitCode=n);var r=Ce.apply(this,arguments);return L("exit",I.exitCode,null),L("afterexit",I.exitCode,null),r}else return Ce.apply(this,arguments)}):Y.exports=function(){return function(){}};var Ln,V,$n,ce,F,Fe,L,Ee,z,at,ct,Bn,Ce,Un});var Xn=m((Ba,jn)=>{"use strict";var oi=require("os"),ii=Kn(),si=1e3*5,ai=(e,t="SIGTERM",n={})=>{let r=e(t);return ci(e,t,n,r),r},ci=(e,t,n,r)=>{if(!ui(t,n,r))return;let o=di(n),i=setTimeout(()=>{e("SIGKILL")},o);i.unref&&i.unref()},ui=(e,{forceKillAfterTimeout:t},n)=>li(e)&&t!==!1&&n,li=e=>e===oi.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",di=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return si;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},fi=(e,t)=>{e.kill()&&(t.isCanceled=!0)},mi=(e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},pi=(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(t===0||t===void 0)return r;let o,i=new Promise((c,l)=>{o=setTimeout(()=>{mi(e,n,l)},t)}),s=r.finally(()=>{clearTimeout(o)});return Promise.race([i,s])},hi=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},yi=async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;let o=ii(()=>{e.kill()});return r.finally(()=>{o()})};jn.exports={spawnedKill:ai,spawnedCancel:fi,setupTimeout:pi,validateTimeout:hi,setExitHandler:yi}});var Vn=m((Ua,Wn)=>{"use strict";var D=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";D.writable=e=>D(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";D.readable=e=>D(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";D.duplex=e=>D.writable(e)&&D.readable(e);D.transform=e=>D.duplex(e)&&typeof e._transform=="function";Wn.exports=D});var Yn=m((Ka,zn)=>{"use strict";var{PassThrough:gi}=require("stream");zn.exports=e=>{e={...e};let{array:t}=e,{encoding:n}=e,r=n==="buffer",o=!1;t?o=!(n||r):n=n||"utf8",r&&(n=null);let i=new gi({objectMode:o});n&&i.setEncoding(n);let s=0,c=[];return i.on("data",l=>{c.push(l),o?s=c.length:s+=l.length}),i.getBufferedValue=()=>t?c:r?Buffer.concat(c,s):c.join(""),i.getBufferedLength=()=>s,i}});var Jn=m((ja,ue)=>{"use strict";var{constants:Si}=require("buffer"),xi=require("stream"),{promisify:vi}=require("util"),wi=Yn(),Ii=vi(xi.pipeline),_e=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function ut(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:n}=t,r=wi(t);return await new Promise((o,i)=>{let s=c=>{c&&r.getBufferedLength()<=Si.MAX_LENGTH&&(c.bufferedData=r.getBufferedValue()),i(c)};(async()=>{try{await Ii(e,r),o()}catch(c){s(c)}})(),r.on("data",()=>{r.getBufferedLength()>n&&s(new _e)})}),r.getBufferedValue()}ue.exports=ut;ue.exports.buffer=(e,t)=>ut(e,{...t,encoding:"buffer"});ue.exports.array=(e,t)=>ut(e,{...t,array:!0});ue.exports.MaxBufferError=_e});var Zn=m((Xa,Qn)=>{"use strict";var{PassThrough:bi}=require("stream");Qn.exports=function(){var e=[],t=new bi({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=r,t.on("unpipe",o),Array.prototype.slice.call(arguments).forEach(n),t;function n(i){return Array.isArray(i)?(i.forEach(n),this):(e.push(i),i.once("end",o.bind(null,i)),i.once("error",t.emit.bind(t,"error")),i.pipe(t,{end:!1}),this)}function r(){return e.length==0}function o(i){e=e.filter(function(s){return s!==i}),!e.length&&t.readable&&t.end()}}});var rr=m((Wa,nr)=>{"use strict";var tr=Vn(),er=Jn(),Fi=Zn(),Ei=(e,t)=>{t===void 0||e.stdin===void 0||(tr(t)?t.pipe(e.stdin):e.stdin.end(t))},Ci=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let n=Fi();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},lt=async(e,t)=>{if(!!e){e.destroy();try{return await t}catch(n){return n.bufferedData}}},dt=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(!(!e||!n))return t?er(e,{encoding:t,maxBuffer:r}):er.buffer(e,{maxBuffer:r})},_i=async({stdout:e,stderr:t,all:n},{encoding:r,buffer:o,maxBuffer:i},s)=>{let c=dt(e,{encoding:r,buffer:o,maxBuffer:i}),l=dt(t,{encoding:r,buffer:o,maxBuffer:i}),h=dt(n,{encoding:r,buffer:o,maxBuffer:i*2});try{return await Promise.all([s,c,l,h])}catch(v){return Promise.all([{error:v,signal:v.signal,timedOut:v.timedOut},lt(e,c),lt(t,l),lt(n,h)])}},Pi=({input:e})=>{if(tr(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};nr.exports={handleInput:Ei,makeAllStream:Ci,getSpawnedResult:_i,validateInputSync:Pi}});var ir=m((Va,or)=>{"use strict";var Hi=(async()=>{})().constructor.prototype,Ai=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Hi,e)]),Ti=(e,t)=>{for(let[n,r]of Ai){let o=typeof t=="function"?(...i)=>Reflect.apply(r.value,t(),i):r.value.bind(t);Reflect.defineProperty(e,n,{...r,value:o})}return e},Di=e=>new Promise((t,n)=>{e.on("exit",(r,o)=>{t({exitCode:r,signal:o})}),e.on("error",r=>{n(r)}),e.stdin&&e.stdin.on("error",r=>{n(r)})});or.exports={mergePromise:Ti,getSpawnedPromise:Di}});var cr=m((za,ar)=>{"use strict";var sr=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],Ni=/^[\w.-]+$/,qi=/"/g,ki=e=>typeof e!="string"||Ni.test(e)?e:`"${e.replace(qi,'\\"')}"`,Oi=(e,t)=>sr(e,t).join(" "),Ri=(e,t)=>sr(e,t).map(n=>ki(n)).join(" "),Gi=/ +/g,Mi=e=>{let t=[];for(let n of e.trim().split(Gi)){let r=t[t.length-1];r&&r.endsWith("\\")?t[t.length-1]=`${r.slice(0,-1)} ${n}`:t.push(n)}return t};ar.exports={joinCommand:Oi,getEscapedCommand:Ri,parseCommand:Mi}});var hr=m((Ya,J)=>{"use strict";var Li=require("path"),ft=require("child_process"),$i=xn(),Bi=wn(),Ui=Fn(),Ki=Pn(),Pe=On(),lr=Gn(),{spawnedKill:ji,spawnedCancel:Xi,setupTimeout:Wi,validateTimeout:Vi,setExitHandler:zi}=Xn(),{handleInput:Yi,getSpawnedResult:Ji,makeAllStream:Qi,validateInputSync:Zi}=rr(),{mergePromise:ur,getSpawnedPromise:es}=ir(),{joinCommand:dr,parseCommand:fr,getEscapedCommand:mr}=cr(),ts=1e3*1e3*100,ns=({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:o})=>{let i=t?{...process.env,...e}:e;return n?Ui.env({env:i,cwd:r,execPath:o}):i},pr=(e,t,n={})=>{let r=$i._parse(e,t,n);return e=r.command,t=r.args,n=r.options,n={maxBuffer:ts,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:n.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n},n.env=ns(n),n.stdio=lr(n),process.platform==="win32"&&Li.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:n,parsed:r}},le=(e,t,n)=>typeof t!="string"&&!Buffer.isBuffer(t)?n===void 0?void 0:"":e.stripFinalNewline?Bi(t):t,He=(e,t,n)=>{let r=pr(e,t,n),o=dr(e,t),i=mr(e,t);Vi(r.options);let s;try{s=ft.spawn(r.file,r.args,r.options)}catch(S){let b=new ft.ChildProcess,C=Promise.reject(Pe({error:S,stdout:"",stderr:"",all:"",command:o,escapedCommand:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return ur(b,C)}let c=es(s),l=Wi(s,r.options,c),h=zi(s,r.options,l),v={isCanceled:!1};s.kill=ji.bind(null,s.kill.bind(s)),s.cancel=Xi.bind(null,s,v);let y=Ki(async()=>{let[{error:S,exitCode:b,signal:C,timedOut:H},d,u,x]=await Ji(s,r.options,h),w=le(r.options,d),_=le(r.options,u),U=le(r.options,x);if(S||b!==0||C!==null){let _t=Pe({error:S,exitCode:b,signal:C,stdout:w,stderr:_,all:U,command:o,escapedCommand:i,parsed:r,timedOut:H,isCanceled:v.isCanceled,killed:s.killed});if(!r.options.reject)return _t;throw _t}return{command:o,escapedCommand:i,exitCode:0,stdout:w,stderr:_,all:U,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Yi(s,r.options.input),s.all=Qi(s,r.options),ur(s,y)};J.exports=He;J.exports.sync=(e,t,n)=>{let r=pr(e,t,n),o=dr(e,t),i=mr(e,t);Zi(r.options);let s;try{s=ft.spawnSync(r.file,r.args,r.options)}catch(h){throw Pe({error:h,stdout:"",stderr:"",all:"",command:o,escapedCommand:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}let c=le(r.options,s.stdout,s.error),l=le(r.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let h=Pe({stdout:c,stderr:l,error:s.error,signal:s.signal,exitCode:s.status,command:o,escapedCommand:i,parsed:r,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!r.options.reject)return h;throw h}return{command:o,escapedCommand:i,exitCode:0,stdout:c,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};J.exports.command=(e,t)=>{let[n,...r]=fr(e);return He(n,r,t)};J.exports.commandSync=(e,t)=>{let[n,...r]=fr(e);return He.sync(n,r,t)};J.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(n=t,t=[]);let r=lr.node(n),o=process.execArgv.filter(c=>!c.startsWith("--inspect")),{nodePath:i=process.execPath,nodeOptions:s=o}=n;return He(i,[...s,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})}});var vt=m(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.default=ds;var us=ls(require("crypto"));function ls(e){return e&&e.__esModule?e:{default:e}}var ke=new Uint8Array(256),qe=ke.length;function ds(){return qe>ke.length-16&&(us.default.randomFillSync(ke),qe=0),ke.slice(qe,qe+=16)}});var qr=m(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.default=void 0;var fs=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Oe.default=fs});var pe=m(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.default=void 0;var ms=ps(qr());function ps(e){return e&&e.__esModule?e:{default:e}}function hs(e){return typeof e=="string"&&ms.default.test(e)}var ys=hs;Re.default=ys});var he=m(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.default=void 0;var gs=Ss(pe());function Ss(e){return e&&e.__esModule?e:{default:e}}var E=[];for(let e=0;e<256;++e)E.push((e+256).toString(16).substr(1));function xs(e,t=0){let n=(E[e[t+0]]+E[e[t+1]]+E[e[t+2]]+E[e[t+3]]+"-"+E[e[t+4]]+E[e[t+5]]+"-"+E[e[t+6]]+E[e[t+7]]+"-"+E[e[t+8]]+E[e[t+9]]+"-"+E[e[t+10]]+E[e[t+11]]+E[e[t+12]]+E[e[t+13]]+E[e[t+14]]+E[e[t+15]]).toLowerCase();if(!(0,gs.default)(n))throw TypeError("Stringified UUID is invalid");return n}var vs=xs;Ge.default=vs});var Rr=m(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var ws=Or(vt()),Is=Or(he());function Or(e){return e&&e.__esModule?e:{default:e}}var kr,wt,It=0,bt=0;function bs(e,t,n){let r=t&&n||0,o=t||new Array(16);e=e||{};let i=e.node||kr,s=e.clockseq!==void 0?e.clockseq:wt;if(i==null||s==null){let y=e.random||(e.rng||ws.default)();i==null&&(i=kr=[y[0]|1,y[1],y[2],y[3],y[4],y[5]]),s==null&&(s=wt=(y[6]<<8|y[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:bt+1,h=c-It+(l-bt)/1e4;if(h<0&&e.clockseq===void 0&&(s=s+1&16383),(h<0||c>It)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");It=c,bt=l,wt=s,c+=122192928e5;let v=((c&268435455)*1e4+l)%4294967296;o[r++]=v>>>24&255,o[r++]=v>>>16&255,o[r++]=v>>>8&255,o[r++]=v&255;let g=c/4294967296*1e4&268435455;o[r++]=g>>>8&255,o[r++]=g&255,o[r++]=g>>>24&15|16,o[r++]=g>>>16&255,o[r++]=s>>>8|128,o[r++]=s&255;for(let y=0;y<6;++y)o[r+y]=i[y];return t||(0,Is.default)(o)}var Fs=bs;Me.default=Fs});var Ft=m(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.default=void 0;var Es=Cs(pe());function Cs(e){return e&&e.__esModule?e:{default:e}}function _s(e){if(!(0,Es.default)(e))throw TypeError("Invalid UUID");let t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var Ps=_s;Le.default=Ps});var Et=m(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.default=Ds;B.URL=B.DNS=void 0;var Hs=Gr(he()),As=Gr(Ft());function Gr(e){return e&&e.__esModule?e:{default:e}}function Ts(e){e=unescape(encodeURIComponent(e));let t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var Mr="6ba7b810-9dad-11d1-80b4-00c04fd430c8";B.DNS=Mr;var Lr="6ba7b811-9dad-11d1-80b4-00c04fd430c8";B.URL=Lr;function Ds(e,t,n){function r(o,i,s,c){if(typeof o=="string"&&(o=Ts(o)),typeof i=="string"&&(i=(0,As.default)(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(i),l.set(o,i.length),l=n(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){c=c||0;for(let h=0;h<16;++h)s[c+h]=l[h];return s}return(0,Hs.default)(l)}try{r.name=e}catch{}return r.DNS=Mr,r.URL=Lr,r}});var $r=m($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;var Ns=qs(require("crypto"));function qs(e){return e&&e.__esModule?e:{default:e}}function ks(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Ns.default.createHash("md5").update(e).digest()}var Os=ks;$e.default=Os});var Ur=m(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var Rs=Br(Et()),Gs=Br($r());function Br(e){return e&&e.__esModule?e:{default:e}}var Ms=(0,Rs.default)("v3",48,Gs.default),Ls=Ms;Be.default=Ls});var jr=m(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.default=void 0;var $s=Kr(vt()),Bs=Kr(he());function Kr(e){return e&&e.__esModule?e:{default:e}}function Us(e,t,n){e=e||{};let r=e.random||(e.rng||$s.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=r[o];return t}return(0,Bs.default)(r)}var Ks=Us;Ue.default=Ks});var Xr=m(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=void 0;var js=Xs(require("crypto"));function Xs(e){return e&&e.__esModule?e:{default:e}}function Ws(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),js.default.createHash("sha1").update(e).digest()}var Vs=Ws;Ke.default=Vs});var Vr=m(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.default=void 0;var zs=Wr(Et()),Ys=Wr(Xr());function Wr(e){return e&&e.__esModule?e:{default:e}}var Js=(0,zs.default)("v5",80,Ys.default),Qs=Js;je.default=Qs});var zr=m(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.default=void 0;var Zs="00000000-0000-0000-0000-000000000000";Xe.default=Zs});var Yr=m(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.default=void 0;var ea=ta(pe());function ta(e){return e&&e.__esModule?e:{default:e}}function na(e){if(!(0,ea.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var ra=na;We.default=ra});var Jr=m(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});Object.defineProperty(T,"v1",{enumerable:!0,get:function(){return oa.default}});Object.defineProperty(T,"v3",{enumerable:!0,get:function(){return ia.default}});Object.defineProperty(T,"v4",{enumerable:!0,get:function(){return sa.default}});Object.defineProperty(T,"v5",{enumerable:!0,get:function(){return aa.default}});Object.defineProperty(T,"NIL",{enumerable:!0,get:function(){return ca.default}});Object.defineProperty(T,"version",{enumerable:!0,get:function(){return ua.default}});Object.defineProperty(T,"validate",{enumerable:!0,get:function(){return la.default}});Object.defineProperty(T,"stringify",{enumerable:!0,get:function(){return da.default}});Object.defineProperty(T,"parse",{enumerable:!0,get:function(){return fa.default}});var oa=O(Rr()),ia=O(Ur()),sa=O(jr()),aa=O(Vr()),ca=O(zr()),ua=O(Yr()),la=O(pe()),da=O(he()),fa=O(Ft());function O(e){return e&&e.__esModule?e:{default:e}}});var ma={};Pt(ma,{default:()=>no});module.exports=co(ma);var p=require("@raycast/api"),G=require("react");var a=require("@raycast/api");var te="$SystemHostHashKey$",ne="$SystemHostBackupKey$",re="$HostsCommonKey$",A="/etc/hosts",At="temp_hosts",oe="BackedUp Hosts",ie=10*1024*1024,Tt="This item is  inactive because the current folder is disabled";var Sr=require("@raycast/api"),xr=k(require("node:crypto")),N=k(require("node:fs")),mt=k(require("node:os")),Te=k(require("node:path"));var yr=k(require("node:process"),1),gr=k(hr(),1);async function Ae(e){if(yr.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await(0,gr.default)("osascript",["-e",e]);return t}var vr=require("child_process");function de(){let e=N.default.readFileSync(A);return xr.default.createHash("md5").update(e).digest("hex")}function fe(){return N.default.readFileSync(A,"utf8")}function wr(e){return N.default.readFileSync(e,"utf8")}async function Ir(e){let t=Te.default.join(mt.default.tmpdir(),At);N.default.writeFileSync(t,e,"utf8"),pt()||await ht(),(0,vr.execSync)(`cat ${t} > ${A} && rm -rf ${t}`)}function pt(){try{return N.default.accessSync(A,N.default.constants.W_OK),!0}catch{return!1}}async function ht(){await Ae(`do shell script "chmod 777 ${A}" with administrator privileges`)}function me(e){return e?e.replaceAll("#","\\#").replaceAll(`
`,`

`):""}function br(e){let n=`${rs()}${Te.default.basename(e.name)}`;return N.default.writeFileSync(n,e.content||"","utf8"),n}function rs(){let e=(0,Sr.getPreferenceValues)();if(e.exportLoc){let t=e.exportLoc;return t.endsWith("/")||(t+="/"),Fr(t),t}return`${mt.default.homedir()}/Desktop/`}function os(e){try{return N.default.mkdirSync(e),!0}catch{return!1}}function Fr(e){try{return!!N.default.statSync(e).isDirectory()}catch{let n=Te.default.parse(e).dir;return Fr(n)?os(e):!1}}var Q=require("react");var De={};Pt(De,{SelectFile:()=>is});var Er=k(require("react"),1),Cr=require("react");var _r=require("@raycast/api"),is=({onSelect:e,prompt:t="Please select a file",type:n,...r})=>{let o=(0,Cr.useCallback)(async()=>{try{let i=await Ae(`
        set chosenFile to choose file with prompt "${t}:"${n!=null?`of type {"${n}"}`:""}
        set raycastPath to POSIX path of (path to application "Raycast")
        do shell script "open " & raycastPath
        return POSIX path of chosenFile
      `);e(i||null)}catch{e(null)}},[]);return Er.createElement(_r.Action,{...r,onAction:o})};var ss=require("@raycast/api"),yt=require("react");var Hr=k(require("node:path")),f=require("react/jsx-runtime");function Ar(){let e=`
  # Hey!\u{1F44B} Welcome to use iHosts \u{1F389}\u{1F389}\u{1F389} 

  You're one step away from using it! Please type \u21A9\uFE0F and allow iHosts to write to the **${A}** file~

  ![](sys-host-prem.png)
  `;return(0,f.jsx)(a.Detail,{markdown:e,actions:(0,f.jsx)(a.ActionPanel,{children:(0,f.jsx)(a.Action,{title:"Get Write Permission",icon:{source:a.Icon.Fingerprint,tintColor:a.Color.Red},onAction:async()=>{try{await ht(),await(0,a.showHUD)("Write Permission got"),await(0,a.popToRoot)()}catch{await(0,a.showHUD)("Failed to get Write Permission")}}})})})}function Tr(e){return(0,f.jsxs)(a.List.Dropdown,{tooltip:"Select Folder",storeValue:!0,onChange:t=>{e.onFolderChange(t)},children:[(0,f.jsx)(a.List.Dropdown.Section,{children:(0,f.jsx)(a.List.Dropdown.Item,{title:"All Hosts",value:"-1"})}),(0,f.jsx)(a.List.Dropdown.Section,{children:e.folders.map(t=>(0,f.jsx)(a.List.Dropdown.Item,{title:t.name,value:t.id,icon:$(t)},t.id))})]})}function $(e,t){if(!e.isFolder)return e.state=="Disabled"?{source:a.Icon.Circle,tintColor:e.folderState==="Disabled"?a.Color.SecondaryText:a.Color.Green}:{source:a.Icon.CheckCircle,tintColor:e.folderState==="Disabled"?a.Color.SecondaryText:a.Color.Green};if(e.isFolder)return t?e.state=="Disabled"?{source:a.Icon.Circle,tintColor:a.Color.Blue}:{source:a.Icon.CheckCircle,tintColor:a.Color.Blue}:e.state=="Disabled"?{source:a.Icon.Folder,tintColor:a.Color.SecondaryText}:{source:a.Icon.Folder,tintColor:a.Color.Blue}}function St(e){let t=[];return e.isFolder||e.folderState=="Disabled"&&e.state=="Enabled"&&t.push({icon:{source:a.Icon.Info,tintColor:a.Color.SecondaryText},tooltip:Tt}),t.push({date:new Date(e.ctime)}),t}function Ne(e,t,n,r,o,i){return(0,f.jsxs)(a.ActionPanel,{children:[(0,f.jsxs)(a.ActionPanel.Section,{children:[e.name!==oe&&(0,f.jsx)(a.Action,{title:"Toggle State",icon:a.Icon.Repeat,shortcut:{modifiers:[],key:"enter"},onAction:()=>o(e.id)}),(0,f.jsx)(a.Action.Push,{title:"New Host",icon:a.Icon.NewDocument,shortcut:{modifiers:["cmd"],key:"n"},target:(0,f.jsx)(gt,{folders:n,upsertHost:r})}),e.name!==oe&&(0,f.jsx)(a.Action.Push,{title:"Edit Host",icon:a.Icon.Pencil,shortcut:{modifiers:["cmd"],key:"e"},target:(0,f.jsx)(gt,{folders:n,upsertHost:r,isEdit:!0,host:e})}),(0,f.jsx)(a.Action,{title:"Export Host",icon:a.Icon.Finder,shortcut:{modifiers:["cmd","shift"],key:"e"},onAction:async()=>{await(0,a.showInFinder)(br(e)),(0,a.showHUD)("Host exported")}}),(0,f.jsx)(a.Action,{title:"Delete",icon:a.Icon.Trash,shortcut:{modifiers:["cmd"],key:"delete"},onAction:async()=>{await(0,a.confirmAlert)({icon:a.Icon.Trash,title:"Delete the host?",message:"You will not be able to recover it",primaryAction:{title:"Delete",style:a.Alert.ActionStyle.Destructive}})&&i(e.id)},style:a.Action.Style.Destructive})]}),(0,f.jsx)(Nr,{allFolders:n,newFolder:t,toggleFolderState:o,deleteFolder:i})]})}function Dr(e,t,n,r,o){return(0,f.jsxs)(a.ActionPanel,{children:[(0,f.jsxs)(a.ActionPanel.Section,{children:[(0,f.jsx)(a.Action.OpenWith,{path:"/etc/hosts"}),(0,f.jsx)(a.Action.Push,{title:"New Host",icon:a.Icon.NewDocument,shortcut:{modifiers:["cmd"],key:"n"},target:(0,f.jsx)(gt,{folders:t,upsertHost:n})})]}),(0,f.jsx)(Nr,{allFolders:t,newFolder:e,toggleFolderState:r,deleteFolder:o})]})}function Nr(e){return(0,f.jsxs)(a.ActionPanel.Section,{children:[(0,f.jsx)(a.Action.Push,{title:"New Folder",icon:a.Icon.NewFolder,shortcut:{modifiers:["cmd","shift"],key:"n"},target:(0,f.jsx)(cs,{newFolder:e.newFolder})}),(0,f.jsx)(a.ActionPanel.Submenu,{title:"Toggle Folder State",icon:a.Icon.Repeat,shortcut:{modifiers:["cmd","shift"],key:"enter"},children:e.allFolders.map(t=>(0,f.jsx)(a.Action,{title:t.name,icon:$(t,!0),onAction:()=>e.toggleFolderState(t.id)},t.id))}),(0,f.jsx)(a.ActionPanel.Submenu,{title:"Delete Folder",icon:a.Icon.Trash,shortcut:{modifiers:["cmd","shift"],key:"delete"},children:e.allFolders.map(t=>(0,f.jsx)(a.Action,{title:t.name,icon:$(t),onAction:async()=>{await(0,a.confirmAlert)({icon:a.Icon.Trash,title:"Delete the Folder?",message:"The hosts in the folder will also be deleted and you will not be able to recover it",primaryAction:{title:"Delete",style:a.Alert.ActionStyle.Destructive}})&&e.deleteFolder(t.id)}},t.id))})]})}function cs(e){let[t,n]=(0,Q.useState)(),{pop:r}=(0,a.useNavigation)();function o(){t&&t.length>0&&n(void 0)}function i(c){return c?!0:(n("The name should't be empty"),!1)}async function s(c){!i(c.name)||(e.newFolder(c),r())}return(0,f.jsxs)(a.Form,{navigationTitle:"New Folder",actions:(0,f.jsx)(a.ActionPanel,{children:(0,f.jsx)(a.Action.SubmitForm,{title:"New Folder",onSubmit:s})}),children:[(0,f.jsx)(a.Form.TextField,{id:"name",title:"Name",autoFocus:!0,placeholder:"Enter folder name",error:t,onChange:o}),(0,f.jsxs)(a.Form.Dropdown,{id:"mode",title:"Mode",defaultValue:"Multiple",children:[(0,f.jsx)(a.Form.Dropdown.Item,{value:"Multiple",title:"Multiple",icon:a.Icon.Ellipsis}),(0,f.jsx)(a.Form.Dropdown.Item,{value:"Single",title:"Single",icon:a.Icon.Dot})]})]})}function gt(e){let[t,n]=(0,Q.useState)(e.host?.name||""),[r,o]=(0,Q.useState)(""),[i,s]=(0,Q.useState)(e.host?.content||""),[c,l]=(0,Q.useState)(),{pop:h}=(0,a.useNavigation)();function v(){c&&c.length>0&&l(void 0)}function g(){return t?!0:(l("The name should't be empty"),!1)}async function y(){!g()||(e.upsertHost({id:e.host?.id,name:t,folder:r,content:i.trim()}),h())}return(0,f.jsxs)(a.Form,{navigationTitle:e.isEdit?"Edit Host":"New Host",actions:(0,f.jsxs)(a.ActionPanel,{children:[(0,f.jsx)(a.Action.SubmitForm,{title:e.isEdit?"Update Host":"Create Host",icon:e.isEdit?a.Icon.SaveDocument:a.Icon.NewDocument,onSubmit:y}),(0,f.jsx)(De.SelectFile,{title:"Import from File",icon:a.Icon.ArrowRight,onSelect:S=>{if(!S)return;let b=Hr.default.basename(S);n(b.substring(0,b.lastIndexOf(".")<0?b.length:b.lastIndexOf("."))),s(wr(S))}})]}),children:[(0,f.jsx)(a.Form.TextField,{id:"name",title:"Name",value:t,autoFocus:!0,placeholder:"Enter host name",error:c,onChange:S=>{n(S),v()}}),!e.isEdit&&(0,f.jsxs)(a.Form.Dropdown,{id:"folder",title:"Folder",value:r,onChange:o,children:[(0,f.jsx)(a.Form.Dropdown.Section,{children:(0,f.jsx)(a.Form.Dropdown.Item,{value:"-1",title:"None"})}),(0,f.jsx)(a.Form.Dropdown.Section,{children:e.folders.map(S=>(0,f.jsx)(a.Form.Dropdown.Item,{value:S.id,title:S.name,icon:$(S)},S.id))})]}),(0,f.jsx)(a.Form.TextArea,{id:"content",title:"Content",value:i,placeholder:"Enter host content",onChange:s})]})}var q=k(Jr(),1),Ec=q.default.v1,Cc=q.default.v3,Z=q.default.v4,_c=q.default.v5,Pc=q.default.NIL,Hc=q.default.version,Ac=q.default.validate,Tc=q.default.stringify,Dc=q.default.parse;var R=require("@raycast/api");async function Qr(){let e={id:Z(),name:"Origin System Hosts",state:"Enabled",isFolder:!1,content:fe(),ctime:new Date().getTime()};await ee([e]);let t=de();return await R.LocalStorage.setItem(te,t),t}async function Zr(){let e={id:Z(),name:oe,state:"Disabled",isFolder:!1,content:fe(),ctime:new Date().getTime()};await R.LocalStorage.setItem(ne,JSON.stringify(e))}async function eo(){await R.LocalStorage.removeItem(ne)}var Ct=new R.Cache({capacity:ie});async function ee(e){let t=JSON.stringify(e),n=Buffer.byteLength(t);n/ie>1&&(Ct=new R.Cache({capacity:ie*Math.ceil(n/ie)})),await R.LocalStorage.setItem(re,t),Ct.set(re,t)}async function to(){let e=[],t=Ct.get(re)||await R.LocalStorage.getItem(re);return t&&(e=JSON.parse(t)),e}var P=require("react/jsx-runtime");function no(){let[e,t]=(0,G.useState)(!1),[n,r]=(0,G.useState)([]),[o,i]=(0,G.useState)([]),[s,c]=(0,G.useState)("-1"),[l,h]=(0,G.useState)();if(!pt())return(0,P.jsx)(Ar,{});(0,G.useEffect)(()=>{v()},[]);async function v(){if(t(!0),(await p.LocalStorage.getItem(te)||await Qr())!==de()){await(0,p.confirmAlert)({icon:{source:p.Icon.ExclamationMark,tintColor:p.Color.Yellow},title:`The file ${A} has been edited by other software!`,message:`You can back up the current ${A} file`,dismissAction:{title:"Overwrite",onAction:async()=>{await g(!0),t(!1)}},primaryAction:{title:"Backup",onAction:async()=>{await Zr(),await g(!0),t(!1)}}});return}await g(!1),t(!1)}async function g(d){let u=await p.LocalStorage.getItem(ne);h(u?JSON.parse(u):void 0);let x=await to();if(d){let w=`# iHosts
`;x.forEach(_=>{!_.isFolder&&_.state==="Enabled"&&(w+=`# ${_.name}
 ${_.content}

`),_.isFolder&&_.state==="Enabled"&&_.hosts&&_.hosts.forEach(U=>{U.state==="Enabled"&&(w+=`# ${_.name} - ${U.name}
 ${U.content}

`)})}),await Ir(w),await p.LocalStorage.setItem(te,de())}r(x),i(x.filter(w=>w.isFolder))}function y(d){c(d)}async function S(d){t(!0);try{let u={id:Z(),name:d.name,state:"Enabled",mode:d.mode,isFolder:!0,folderState:"Enabled",hosts:[],ctime:new Date().getTime()};n.push(u),await ee(n),await g(!1),(0,p.showToast)({title:"Folder created",style:p.Toast.Style.Success})}catch{(0,p.showToast)({title:"Failed to create folder",style:p.Toast.Style.Failure})}finally{t(!1)}}async function b(d){t(!0);try{if(d.id){let u=n.find(x=>!x.isFolder&&x.id===d.id);if(!u){for(let x of n)if(!!x.isFolder&&(u=x.hosts?.find(w=>w.id===d.id),u))break}if(!u)return;u.name=d.name,u.content=d.content}else{let u;if(d.folder!=="-1"&&(u=n.find(w=>w.id===d.folder),!u))return;let x={id:Z(),name:d.name,isFolder:!1,state:"Enabled",content:d.content,ctime:new Date().getTime()};u&&u.mode==="Single"&&u.hosts?.find(w=>w.state==="Enabled")&&(x.state="Disabled"),u?(x.folderState=u.state,u.hosts?.push(x)):n.push(x)}await ee(n),await g(!0),(0,p.showToast)({title:"Host created",style:p.Toast.Style.Success})}catch{(0,p.showToast)({title:"Failed to create host",style:p.Toast.Style.Failure})}finally{t(!1)}}async function C(d){if(e){(0,p.showHUD)("Please calm down\u23F3");return}t(!0);try{let u=n.find(w=>w.id===d);if(!u){for(let w of n)if(!!w.isFolder&&(u=w.hosts?.find(_=>_.id===d),u)){w&&w.mode==="Single"&&u.state==="Disabled"&&w.hosts?.forEach(_=>_.state="Disabled");break}}if(!u)return;let x=u.state==="Enabled"?"Disabled":"Enabled";u.state=x,u.isFolder&&(u.folderState=x,u.hosts?.forEach(w=>w.folderState=x)),await ee(n),await g(!(u.isFolder&&u.hosts?.length===0)),(0,p.showToast)({title:"State toggled",style:p.Toast.Style.Success})}catch{(0,p.showToast)({title:"Failed to toggle state",style:p.Toast.Style.Failure})}finally{t(!1)}}async function H(d){t(!0);try{if(l&&l.id===d)await eo(),await g(!1);else{let u=n.filter(x=>x.id!==d);for(let x of u)!x.isFolder||(x.hosts=x.hosts?.filter(w=>w.id!==d));await ee(u),await g(!0)}(0,p.showToast)({title:"Host deleted",style:p.Toast.Style.Success})}catch{(0,p.showToast)({title:"Failed to delete host",style:p.Toast.Style.Failure})}finally{t(!1)}}return(0,P.jsxs)(p.List,{isLoading:e,isShowingDetail:!0,searchBarAccessory:(0,P.jsx)(Tr,{folders:o,onFolderChange:y}),children:[(0,P.jsx)(p.List.Item,{title:"System Hosts",icon:{source:p.Icon.ComputerChip,tintColor:p.Color.Blue},detail:(0,P.jsx)(p.List.Item.Detail,{markdown:me(fe())}),actions:Dr(S,o,b,C,H)}),l&&(0,P.jsx)(p.List.Item,{title:l.name,icon:{source:p.Icon.ArrowCounterClockwise,tintColor:p.Color.SecondaryText},accessories:[{date:new Date(l.ctime)}],detail:(0,P.jsx)(p.List.Item.Detail,{markdown:me(l.content||"")}),actions:Ne(l,S,o,b,C,H)}),s==="-1"&&n.filter(d=>!d.isFolder).sort((d,u)=>u.ctime-d.ctime).map(d=>(0,P.jsx)(p.List.Item,{title:d.name,icon:$(d),accessories:St(d),detail:(0,P.jsx)(p.List.Item.Detail,{markdown:me(d.content||"")}),actions:Ne(d,S,o,b,C,H)},d.id)),n.filter(d=>s==="-1"&&d.isFolder||s!=="-1"&&d.isFolder&&d.id===s).sort((d,u)=>u.ctime-d.ctime).map(d=>(0,P.jsx)(p.List.Section,{title:d.name,subtitle:`Folder | ${d.mode}`,children:d.hosts?.sort((u,x)=>x.ctime-u.ctime).map(u=>(0,P.jsx)(p.List.Item,{title:u.name,icon:$(u),accessories:St(u),detail:(0,P.jsx)(p.List.Item.Detail,{markdown:me(u.content||"")}),actions:Ne(u,S,o,b,C,H)},u.id))},d.id))]})}0&&(module.exports={});
